ğŸ”ç±»æ–¹æ³•æ±‡æ€»
===================================

1. NetReverseç±»
--------------------

1.1. NetReverseç±»åˆå§‹åŒ–
```````````````````````````

.. py:class:: NetReverse(flag_name: str = 'æ·±åœ³å¸‚', plain_prj: str = 'EPSG:32650', ignore_head_tail: bool = False, cut_slice: bool = False, slice_num: int = 5, generate_rod: bool = False, min_rod_length: float = 5.0,restrict_region_gdf: gpd.GeoDataFrame = None, save_split_link: bool = False,modify_minimum_buffer: float = 0.8, save_streets_before_modify_minimum: bool = False,save_streets_after_modify_minimum: bool = False, save_tpr_link: bool = False, ignore_dir: bool = False,allow_ring: bool = False, restrict_angle: bool = True, restrict_length: bool = True,accu_l_threshold: float = 200.0, angle_threshold: float = 35.0, min_length: float = 50.0,save_preliminary: bool = False, is_process_dup_link: bool = True, process_dup_link_buffer: float = 0.8,dup_link_buffer_ratio: float = 60.0, net_out_fldr: str = None, net_file_type: str = 'shp', is_modify_conn: bool = True, conn_buffer: float = 0.8) -> None

å¯ä»¥å°†å‚æ•°åˆ†ä¸º5ç»„ï¼šå‚æ•°å«ä¹‰å¦‚ä¸‹ï¼š


(1)  ç¬¬ä¸€ç»„ï¼ˆæ€»ä½“ä¿¡æ¯ï¼‰
::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::

* flag_name
    é¡¹ç›®åç§°

* plain_prj
    å¹³é¢æŠ•å½±åæ ‡ç³»

* net_out_fldr
    æœ€ç»ˆè·¯ç½‘çš„å­˜å‚¨ç›®å½•

* net_file_type
    è·¯ç½‘çš„è¾“å‡ºæ–‡ä»¶ç±»å‹ï¼Œshp æˆ–è€… geojson


(2)  ç¬¬äºŒç»„ï¼ˆè·¯å¾„è§£æã€æ‹†åˆ†å‚æ•°ï¼‰
::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::

* multi_core_parse
    æ˜¯å¦å¯ç”¨å¤šæ ¸è§£æ(è§£æäºŒè¿›åˆ¶è·¯å¾„æ–‡ä»¶)ï¼Œé»˜è®¤False

* parse_core_num
    å¤šæ ¸è§£ææ—¶ä½¿ç”¨çš„æ ¸æ•°ï¼Œé»˜è®¤2

* ignore_head_tail
    æ˜¯å¦å¿½ç•¥è·¯å¾„é¦–å°¾çš„æ— åé“è·¯, è¿™ç§ä¸€èˆ¬æ˜¯å°åŒºå†…éƒ¨é“è·¯ï¼Œé»˜è®¤True

* cut_slice
    æ‹†åˆ†è·¯æ®µæ—¶ï¼Œæ˜¯å¦åˆ†ç‰‡å¤„ç†ï¼Œå†…å­˜ä¸å¤Ÿæ—¶å¯ä»¥æŒ‡å®šä¸ºTrueï¼Œé»˜è®¤False

* slice_num
    æ‹†åˆ†è·¯æ®µæ—¶ï¼Œæ‹†åˆ†ä¸ºå‡ ä¸ªsliceå¤„ç†

* generate_rod
    æ˜¯å¦ç”Ÿæˆè¿æ†, åªæœ‰å½“å‚æ•°ignore_head_tailä¸ºfalseæ—¶è¯¥å‚æ•°æ‰ç”Ÿæ•ˆï¼Œé»˜è®¤False

* min_rod_length
    æœ€å°è¿æ†é•¿åº¦ï¼Œç±³

* restrict_region_gdf
    é™åˆ¶åŒºåŸŸgdfï¼Œè‹¥ä¼ å…¥æ­¤åŒºåŸŸï¼Œé‚£ä¹ˆä»…ä»…åªå¯¹åœ¨åŒºåŸŸèŒƒå›´å†…çš„è·¯ç½‘è¿›è¡Œé€†å‘

* save_split_link
    æ˜¯å¦ä¿å­˜æ‹†åˆ†è·¯å¾„åçš„linkå±‚æ–‡ä»¶ï¼Œé»˜è®¤False


(3)  ç¬¬ä¸‰ç»„ï¼ˆæ‹“æ‰‘å…³è”å‚æ•°ï¼‰
::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::


* modify_minimum_buffer
    æå°é—´éš”èŠ‚ç‚¹ä¼˜åŒ–çš„buffer, m

* save_streets_before_modify_minimum
    æ˜¯å¦ä¿å­˜ä¼˜åŒ–å‰çš„ç»“æœï¼Œé»˜è®¤False

* save_streets_after_modify_minimum
    æ˜¯å¦ä¿å­˜ä¼˜åŒ–åçš„ç»“æœï¼Œé»˜è®¤False

* save_tpr_link
    æ˜¯å¦ä¿å­˜ä¼˜åŒ–åä¸”è¿›è¡Œæ–¹å‘å¤„ç†çš„æ–‡ä»¶ï¼Œé»˜è®¤False

.. _æ‹“æ‰‘ä¼˜åŒ–å‚æ•°:


(4)  ç¬¬å››ç»„ï¼ˆæ‹“æ‰‘ä¼˜åŒ–å‚æ•°ï¼‰
::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::

* limit_col_name
    è·¯æ®µåˆå¹¶æ—¶ï¼Œç”¨äºé™åˆ¶è·¯æ®µåˆå¹¶çš„çº¿å±‚å±æ€§å­—æ®µï¼Œé»˜è®¤'road_name'ï¼Œå¦‚æœä½ è¦ä½¿ç”¨å…¶ä»–å­—æ®µæ¥é™åˆ¶åˆå¹¶ï¼Œè¯·è‡ªå®šä¹‰è¯¥å‚æ•°

* ignore_dir
    è·¯æ®µåˆå¹¶æ—¶ï¼Œæ˜¯å¦å¿½ç•¥è¡Œè½¦æ–¹å‘ï¼Œé»˜è®¤False

* allow_ring
    æ˜¯å¦å…è®¸è·¯æ®µåˆå¹¶åå‡ºç°ç¯ï¼Œé»˜è®¤False

* restrict_angle
    æ˜¯å¦å¯ç”¨æœ€å¤§è½¬è§’é™åˆ¶æ¥çº¦æŸè·¯æ®µåˆå¹¶ï¼Œé»˜è®¤True

* restrict_length
    æ˜¯å¦å¯ç”¨æœ€å¤§è·¯æ®µé•¿åº¦é™åˆ¶æ¥çº¦æŸè·¯æ®µåˆå¹¶ï¼Œé»˜è®¤True

* accu_l_threshold
    å…è®¸çš„æœ€é•¿çš„è·¯æ®µé•¿åº¦ï¼Œç±³ï¼Œé»˜è®¤200ç±³

* angle_threshold
    å…è®¸çš„æœ€å¤§çš„è·¯æ®µå†…è½¬è§’ï¼Œåº¦ï¼Œé»˜è®¤35åº¦

* min_length
    å…è®¸çš„æœ€å°çš„è·¯æ®µé•¿åº¦ï¼Œç±³ï¼Œé»˜è®¤50ç±³

* save_preliminary
    æ˜¯å¦ä¿ç•™é‡å¤è·¯æ®µå¤„ç†å‰çš„æ–‡ä»¶ï¼Œé»˜è®¤False

* multi_core_merge
    æ˜¯å¦å¯ç”¨å¤šè¿›ç¨‹è¿›è¡Œåˆå¹¶ï¼Œé»˜è®¤False

* merge_core_num
    å¯ç”¨å‡ ä¸ªæ ¸ï¼Œé»˜è®¤1


(5)  ç¬¬äº”ç»„ï¼ˆé‡å è·¯æ®µå¤„ç†å‚æ•°ï¼‰
::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::

* is_process_dup_link
    æ˜¯å¦å¤„ç†é‡å¤è·¯æ®µï¼Œé»˜è®¤True

* process_dup_link_buffer
    å¤„ç†é‡å¤è·¯æ®µæ‰€ä½¿ç”¨çš„bufferé•¿åº¦ï¼Œç±³ï¼Œä½¿ç”¨é»˜è®¤å€¼å³å¯

* dup_link_buffer_ratio
    é‡å ç‡æ£€æµ‹é˜ˆå€¼ï¼Œä½¿ç”¨é»˜è®¤å€¼å³å¯


.. _è”é€šæ€§ä¿®å¤å‚æ•°:

(6)  ç¬¬å…­ç»„ï¼ˆè”é€šæ€§ä¿®å¤å‚æ•°ï¼‰
::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::

* is_modify_conn
    æ˜¯å¦æ£€æŸ¥æ½œåœ¨çš„è”é€šæ€§é—®é¢˜å¹¶ä¸”è¿›è¡Œä¿®å¤ï¼Œé»˜è®¤True

* conn_buffer
    æ£€æŸ¥è”é€šæ€§é—®é¢˜æ—¶ä½¿ç”¨çš„æ£€æµ‹åŠå¾„å¤§å°,å•ä½ç±³

* conn_period
    å–å€¼ 'final' or 'start', 'final'è¡¨ç¤ºåœ¨æ‹“æ‰‘ä¼˜åŒ–ä¹‹åä¿®å¤è”é€šæ€§, 'start'è¡¨ç¤ºåœ¨æ‹“æ‰‘ä¼˜åŒ–ä¹‹å‰ä¿®å¤è”é€šæ€§

    final: å¯èƒ½çŸ«æ­£ä¸è¶³

    startï¼šæ›´è€—æ—¶ï¼Œå¯èƒ½ä¼šè¿‡åº¦çŸ«æ­£ï¼Œæ¯”å¦‚ï¼šå°†ç«‹äº¤å’Œåœ°é¢é“è·¯è¿›è¡Œäº†è”é€š


(7)  ç¬¬ä¸ƒç»„ï¼ˆåˆ†åŒºé€†å‘å‚æ•°ï¼‰
::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::

* multi_core_reverse
    æ˜¯å¦å¯ç”¨å¤šè¿›ç¨‹å¯¹è·¯ç½‘è¿›è¡Œå¹¶è¡Œé€†å‘è®¡ç®—ï¼Œé»˜è®¤Falseï¼Œå¤§èŒƒå›´è·¯ç½‘è¯·æ±‚æ—¶å¯ä»¥æŒ‡å®šä¸ºTrue

* reverse_core_num
    é€†å‘å¹¶è¡Œè®¡ç®—è¦å¯ç”¨çš„æ ¸æ•°ï¼Œé»˜è®¤2


1.2. åˆå§‹åŒ–ä¸­ä¸‰ä¸ªå¹¶è¡Œå‚æ•°çš„åŒºåˆ«
```````````````````````````````````

(1)  multi_core_parse
::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::

æŒ‡çš„æ˜¯ä»ç£ç›˜è¯»å–äºŒè¿›åˆ¶è·¯å¾„æ–‡ä»¶å¹¶è¿›è¡Œè§£æè¿™ä¸€æ­¥éª¤çš„å¹¶è¡Œï¼Œè·¯å¾„æ–‡ä»¶æ•°é‡è¾ƒå¤šï¼šæ¨èmulti_core_parse=True

(2) multi_core_merge
::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::

æŒ‡çš„æ˜¯æ‹“æ‰‘ä¼˜åŒ–çš„å¹¶è¡Œï¼Œè¿™é‡Œçš„å¹¶è¡Œä¸ä¼šå¯¹è·¯ç½‘è¿›è¡Œåˆ†å—å¤„ç†ï¼Œæœ€ç»ˆè¾“å‡ºçš„æ˜¯ä¸€ä¸ªæ•´ä½“çš„è·¯ç½‘


(3) multi_core_reverse
::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::

æŒ‡çš„æ˜¯è·¯ç½‘ç”Ÿäº§è¿‡ç¨‹çš„å¹¶è¡Œ(ä¸åŒ…æ‹¬è·¯å¾„è§£æè¿™ä¸€æ­¥)ï¼Œä»–ä¼šå°†æ•´ä½“è·¯ç½‘åˆ†å—ï¼Œåˆ†åˆ«åœ¨ä¸åŒçš„å—ä¸Šè®¡ç®—ï¼Œæœ€ç»ˆè¾“å‡ºçš„è·¯ç½‘ä¸ªæ•° = reverse_core_num

å¤§èŒƒå›´åŒºåŸŸè·¯ç½‘è·å–ï¼šæ¨èmulti_core_reverseæŒ‡å®šä¸ºTrueï¼Œç„¶åå†ç”¨åˆå¹¶æ¥å£è¿›è¡Œè·¯ç½‘åˆå¹¶



1.3. NetReverseç±»æ–¹æ³•
```````````````````````````

(1) generate_net_from_request
::::::::::::::::::::::::::::::::::::::

è¯·æ±‚è·¯å¾„è§„åˆ’è®¡ç®—å¾—åˆ°è·¯ç½‘

.. py:class:: NetReverse.generate_net_from_request(key_list: list[str] = None, binary_path_fldr: str = None,od_file_path: str = None, od_df: pd.DataFrame = None,region_gdf: gpd.GeoDataFrame = None, od_type='rnd', boundary_buffer: float = 2000,cache_times: int = 300, ignore_hh: bool = True, remove_his: bool = True,log_fldr: str = None, save_log_file: bool = False,min_lng: float = None, min_lat: float = None, w: float = 2000, h: float = 2000, od_num: int = 100, gap_n: int = 1000, min_od_length: float = 1200.0) -> None

å¯ä»¥å°†å‚æ•°åˆ†ä¸º5ç»„ï¼šå‚æ•°å«ä¹‰å¦‚ä¸‹ï¼š

**ç¬¬ä¸€ç»„ï¼ˆè¾“å‡ºç»“æœå‚æ•°ï¼‰ï¼š**

* binary_path_fldr
    è¯·æ±‚å¾—åˆ°çš„è·¯å¾„æºæ–‡ä»¶çš„å­˜å‚¨ç›®å½•ï¼Œå¿…é¡»å‚æ•°


**ç¬¬äºŒç»„ï¼ˆè¯·æ±‚è®¾ç½®å‚æ•°ï¼‰ï¼š**

* key_list
    å¼€å‘è€…keyå€¼åˆ—è¡¨ï¼Œå¿…é¡»å‚æ•°

* cache_times
    è·¯å¾„æ–‡ä»¶ç¼“å­˜æ•°ï¼Œå³æ¯è¯·æ±‚cache_timesæ¬¡ç¼“å­˜ä¸€æ¬¡æ•°æ®åˆ°binary_path_fldrä¸‹ï¼Œå¯é€‰ï¼Œé»˜è®¤300

* ignore_hh
    æ˜¯å¦å¿½ç•¥æ—¶æ®µé™åˆ¶è¿›è¡Œè¯·æ±‚ï¼Œé»˜è®¤False

* remove_his
    æ˜¯å¦å¯¹å·²ç»è¯·æ±‚çš„ODé‡å¤(æŒ‡çš„æ˜¯åœ¨è¯·æ±‚è¢«æ„å¤–ä¸­æ–­çš„æƒ…å†µä¸‹ï¼Œod_idä¸ºåˆ¤æ–­ä¾æ®)è¯·æ±‚ï¼Œé»˜è®¤True

* save_log_file
    æ˜¯å¦ä¿å­˜æ—¥å¿—æ–‡ä»¶

* log_fldr
    æ—¥å¿—æ–‡ä»¶çš„å­˜å‚¨ç›®å½•


**ç¬¬ä¸‰ç»„ï¼ˆODæ„é€ å‚æ•°ï¼‰ï¼š**

* od_file_path
    ç”¨äºè¯·æ±‚çš„odæ–‡ä»¶è·¯å¾„ï¼Œå¯é€‰å‚æ•°

* od_df
    ç”¨äºè¯·æ±‚çš„odæ•°æ®ï¼Œè¯¥å‚æ•°å’Œod_file_pathä»»æ„æŒ‡å®šä¸€ä¸ªå³å¯ï¼Œå¯é€‰å‚æ•°

* region_gdf
    ç”¨äºæ„é€ odçš„é¢åŸŸæ•°æ®


* min_lng
    çŸ©å½¢åŒºåŸŸçš„å·¦ä¸‹è§’ç»åº¦

* min_lat
    çŸ©å½¢åŒºåŸŸçš„å·¦ä¸‹è§’çº¬åº¦

* w
    çŸ©å½¢åŒºåŸŸçš„å®½åº¦ï¼Œç±³

* h
    çŸ©å½¢åŒºåŸŸçš„é«˜åº¦ï¼Œç±³

* boundary_buffer
    åŒºåŸŸè¾¹ç•Œbufferï¼Œç±³ï¼Œå¯é€‰

* od_type
    ç”¨äºæ„é€ odçš„æ–¹æ³•ï¼Œrand_odã€region_odã€diy_od

* od_num
    éœ€è¦è¯·æ±‚çš„odæ•°ï¼Œé»˜è®¤300ï¼Œåªæœ‰od_typeä¸ºrand_odæ—¶èµ·æ•ˆ

* gap_n
    ç½‘æ ¼ä¸ªæ•°ï¼Œé»˜è®¤1000ï¼Œåªæœ‰od_typeä¸ºrand_odæ—¶èµ·æ•ˆ

* min_od_length
    odä¹‹é—´æœ€çŸ­ç›´çº¿è·ç¦»ï¼Œåªæœ‰od_typeä¸ºrand_odæ—¶èµ·æ•ˆ


(2) generate_net_from_pickle
:::::::::::::::::::::::::::::

ä»è·¯å¾„æºæ–‡ä»¶è®¡ç®—å¾—åˆ°è·¯ç½‘

.. py:class:: NetReverse.generate_net_from_pickle(binary_path_fldr: str = None, pickle_file_name_list: list[str] = None) -> None

* binary_path_fldr
    è¯·æ±‚å¾—åˆ°çš„è·¯å¾„æºæ–‡ä»¶çš„å­˜å‚¨ç›®å½•ï¼Œå¿…é¡»å‚æ•°

* pickle_file_name_list
    éœ€è¦ä½¿è¯»å–çš„è·¯å¾„æºæ–‡ä»¶åˆ—è¡¨ï¼Œå¦‚æœä¸æŒ‡å®šï¼Œåˆ™é»˜è®¤è¯»å–binary_path_fldrä¸‹çš„æ‰€æœ‰æºæ–‡ä»¶



(3) create_node_from_link
:::::::::::::::::::::::::::::

é™æ€æ–¹æ³•ï¼šä»çº¿å±‚åˆ›å»ºç‚¹å±‚å¹¶ä¸”æ·»åŠ æ‹“æ‰‘å…³è”

.. py:class:: NetReverse.create_node_from_link(link_gdf: gpd.GeoDataFrame = None, update_link_field_list: list[str] = None, using_from_to: bool = False, fill_dir: int = 0, plain_prj: str = 'EPSG:32650', ignore_merge_rule: bool = True, modify_minimum_buffer: float = 0.8, execute_modify: bool = True, auxiliary_judge_field: str = None, out_fldr: str = None, save_streets_before_modify_minimum: bool = False, save_streets_after_modify_minimum: bool = True) -> tuple[gpd.GeoDataFrame, gpd.GeoDataFrame, gpd.GeoDataFrame]


* link_gdf
    è·¯ç½‘çº¿å±‚gdfæ•°æ®ï¼Œå¿…é¡»æ•°æ®

* update_link_field_list
    éœ€è¦æ›´æ–°çš„å­—æ®µåˆ—è¡¨, ç”Ÿäº§æ‹“æ‰‘å…³è”åéœ€è¦æ›´æ–°çš„çº¿å±‚åŸºæœ¬å­—æ®µï¼Œä»(link_id, from_node, to_node, dir, length)ä¸­é€‰å–ï¼Œ

* using_from_to
    æ˜¯å¦ä½¿ç”¨è¾“å…¥çº¿å±‚ä¸­çš„from_nodeå­—æ®µå’Œto_nodeå­—æ®µï¼Œé»˜è®¤False

* fill_dir
    ç”¨äºå¡«å……diræ–¹å‘å­—æ®µçš„å€¼ï¼Œå¦‚æœupdate_link_field_listä¸­åŒ…å«dirå­—æ®µï¼Œé‚£ä¹ˆè¯¥å‚æ•°éœ€è¦ä¼ å…¥å€¼ï¼Œå…è®¸çš„å€¼ä¸º1æˆ–è€…0

* plain_prj
    æ‰€ä½¿ç”¨çš„å¹³é¢æŠ•å½±åæ ‡ç³»

* ignore_merge_rule
    æ˜¯å¦å¿½ç•¥æå°é—´éš”ä¼˜åŒ–çš„è§„åˆ™ï¼Œé»˜è®¤True

* auxiliary_judge_field
    ç”¨äºåˆ¤æ–­æ˜¯å¦å¯ä»¥åˆå¹¶çš„çº¿å±‚å­—æ®µ, åªæœ‰å½“ignore_merge_ruleä¸ºFalseæ‰èµ·æ•ˆ

* execute_modify
    æ˜¯å¦æ‰§è¡Œæå°é—´éš”èŠ‚ç‚¹ä¼˜åŒ–ï¼Œé»˜è®¤True

* modify_minimum_buffer
    æå°é—´éš”èŠ‚ç‚¹ä¼˜åŒ–çš„buffer, ç±³


* out_fldr
    è¾“å‡ºæ–‡ä»¶çš„å­˜å‚¨ç›®å½•


* save_streets_before_modify_minimum
    æ˜¯å¦å­˜å‚¨æå°é—´éš”ä¼˜åŒ–å‰çš„æ•°æ®ï¼Œé»˜è®¤True


* save_streets_after_modify_minimum
    æ˜¯å¦å­˜å‚¨æå°é—´éš”ä¼˜åŒ–åçš„æ•°æ®ï¼Œé»˜è®¤True


(4) topology_optimization
:::::::::::::::::::::::::::::

è·¯æ®µæ‹“æ‰‘ä¼˜åŒ–


.. py:class:: NetReverse.topology_optimization(self, link_gdf: gpd.GeoDataFrame = None, node_gdf: gpd.GeoDataFrame = None, out_fldr: str = None)  -> tuple[gpd.GeoDataFrame, gpd.GeoDataFrame, dict]

å•ç‹¬ä½¿ç”¨è¯¥ç±»æ–¹æ³•ä¼˜åŒ–å·²æœ‰è·¯ç½‘ï¼Œè¯·åœ¨åˆå§‹åŒ–NetReverseç±»æ—¶æŒ‡å®š `æ‹“æ‰‘ä¼˜åŒ–å‚æ•°`_


* link_gdf
    è¯·æ±‚å¾—åˆ°çš„è·¯å¾„æºæ–‡ä»¶çš„å­˜å‚¨ç›®å½•ï¼Œå¿…é¡»å‚æ•°

* node_gdf
    éœ€è¦ä½¿è¯»å–çš„è·¯å¾„æºæ–‡ä»¶åˆ—è¡¨ï¼Œå¦‚æœä¸æŒ‡å®šï¼Œåˆ™é»˜è®¤è¯»å–binary_path_fldrä¸‹çš„æ‰€æœ‰æºæ–‡ä»¶

* out_fldrï¼š
    å­˜å‚¨æ‹“æ‰‘ä¼˜åŒ–è·¯ç½‘æ–‡ä»¶çš„ç›®å½•


è·¯æ®µæ‹“æ‰‘ä¼˜åŒ–çš„ç›¸å…³å‚æ•°çš„å›¾è§£ï¼š

ä¸‹å›¾æ ‡æ³¨äº†æ¯ä¸ªè·¯æ®µçš„é•¿åº¦å€¼ï¼Œé™åˆ¶æ¡ä»¶ï¼šåˆå¹¶åè·¯æ®µé•¿åº¦ä¸è¶…è¿‡150ç±³ï¼Œè·¯æ®µé•¿åº¦ä¸å¾—å°äº30ç±³

.. image:: _static/images/merge_1.png
    :align: center

----------------------------------------

è‹¥æŒ‡å®šäº†limit_col_nameä¸º'road_name'ï¼Œä¸‹å›¾æ ‡æ³¨äº†æ¯ä¸ªè·¯æ®µçš„road_nameå€¼ï¼Œé™åˆ¶æ¡ä»¶ï¼šèŠ‚ç‚¹è½¬è§’è¶…è¿‡20Â°ä¸å¾—åˆå¹¶

.. image:: _static/images/merge_2.png
    :align: center

----------------------------------------

ä¸å°‘åœºæ™¯ä¸‹ï¼Œæ— æ³•å®Œå…¨æ»¡è¶³æ‰€æœ‰çš„é™åˆ¶æ¡ä»¶ï¼Œå„é™åˆ¶æ¡ä»¶çš„æœä»ä¼˜å…ˆçº§ä¸ºï¼š

.. image:: _static/images/merge_rule.png
    :align: center

----------------------------------------

(5) modify_conn
:::::::::::::::::::::::::::::

è·¯ç½‘è”é€šæ€§ä¿®å¤


.. py:class:: NetReverse.modify_conn(self, link_gdf: gpd.GeoDataFrame = None, node_gdf: gpd.GeoDataFrame = None)  -> tuple[gpd.GeoDataFrame, gpd.GeoDataFrame]

å•ç‹¬ä½¿ç”¨è¯¥ç±»æ–¹æ³•ä¼˜åŒ–å·²æœ‰è·¯ç½‘çš„è”é€šæ€§ï¼Œè¯·åœ¨åˆå§‹åŒ–NetReverseç±»æ—¶æŒ‡å®š `è”é€šæ€§ä¿®å¤å‚æ•°`_

* link_gdf
    æœ‰æ ‡å‡†å­—æ®µçš„è·¯ç½‘çº¿å±‚

* node_gdf
    æœ‰æ ‡å‡†å­—æ®µçš„è·¯ç½‘ç‚¹å±‚


(4) redivide_link_node
:::::::::::::::::::::::::::::

è·¯æ®µã€èŠ‚ç‚¹é‡å¡‘ã€è¿é€šæ€§ä¿®å¤

.. py:class:: NetReverse.redivide_link_node(self, link_gdf: gpd.GeoDataFrame = None) -> None


* link_gdf
    è‡³å°‘åŒ…å«geometryå­—æ®µçš„çº¿å±‚æ•°æ®

ç”Ÿæˆçš„æ–°è·¯ç½‘åœ¨net_out_fldr(NetReverseç±»åˆå§‹åŒ–å‚æ•°)ä¸‹å­˜å‚¨

